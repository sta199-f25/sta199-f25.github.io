<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Dr.&nbsp;Mine Ã‡etinkaya-Rundel">
<meta name="dcterms.date" content="2025-11-18">
<title>Exam 2 review â€“ STA 199</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-b6e6edf6cb1293d7f667c2f39c143ab5.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-b6e6edf6cb1293d7f667c2f39c143ab5.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-b6e6edf6cb1293d7f667c2f39c143ab5.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-a8d7f66b06bfc3ab1343c450e991fb53.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-6c451fa543b29d8f6d5872b5bb226417.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-a8d7f66b06bfc3ab1343c450e991fb53.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
<meta property="og:title" content="Exam 2 review â€“ STA 199">
<meta property="og:description" content="Lecture 23">
<meta property="og:image" content="https://sta199-f25.github.io/slides/images/wooclap-qr.png">
<meta property="og:site_name" content="STA 199">
<meta property="og:image:height" content="888">
<meta property="og:image:width" content="866">
</head>
<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Exam 2 review</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../img/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/sta199-f25" title="GitHub organization" class="quarto-navigation-tool px-1" aria-label="GitHub organization"><i class="bi bi-github"></i></a>
    <a href="https://cmgr.oit.duke.edu/containers" title="RStudio containers" class="quarto-navigation-tool px-1" aria-label="RStudio containers"><i class="bi bi-code-square"></i></a>
    <div class="dropdown">
      <a href="" title="Support" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Support"><i class="bi bi-life-preserver"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://docs.google.com/spreadsheets/d/1rVx9uZVNcrG_nUSDo7iol5VEeGcHURASVtBpwZjz5bc/edit?usp=sharing">
              <i class="bi bi-person-raised-hand pe-1"></i>
            Office hours
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://edstem.org/us/courses/80616/discussion">
              <i class="bi bi-people-fill pe-1"></i>
            Help from humans (Ed Discussion)
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://canvas.duke.edu/courses/61539/modules/items/647028">
              <i class="bi bi-robot pe-1"></i>
            Help from AI (Chatbot)
            </a>
          </li>
      </ul>
</div>
    <div class="dropdown">
      <a href="" title="Canvas" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Canvas"><i class="bi bi-file-check-fill"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-1">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://canvas.duke.edu/courses/61539/announcements">
              <i class="bi bi-megaphone-fill pe-1"></i>
            Announcements
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://canvas.duke.edu/courses/61539/external_tools/181">
              <i class="bi bi-file-arrow-up-fill pe-1"></i>
            Gradescope
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://canvas.duke.edu/courses/61539/gradebook">
              <i class="bi bi-alphabet-uppercase pe-1"></i>
            Gradebook
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Course information</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Team</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful links</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../course-faq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FAQ</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Computing</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-code-alongs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code alongs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-cheatsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cheatsheets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Project</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/description.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Description</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/1-working-collaboratively.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Milestone 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/2-proposal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Milestone 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/3-improvement-progress-I.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Milestone 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/4-peer-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Milestone 4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/5-improvement-progress-II.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Milestone 5</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/6-writeup-presentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Milestone 6</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../project/tips-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tips + resources</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Labs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homeworks</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ae.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Application exercises</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../exam-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exam reviews</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#warm-up" id="toc-warm-up" class="nav-link active" data-scroll-target="#warm-up">Warm-up</a>
  <ul class="collapse">
<li><a href="#announcements" id="toc-announcements" class="nav-link" data-scroll-target="#announcements">Announcements</a></li>
  <li><a href="#from-last-class-ae-14-chicago-taxi-classification" id="toc-from-last-class-ae-14-chicago-taxi-classification" class="nav-link" data-scroll-target="#from-last-class-ae-14-chicago-taxi-classification">From last class: ae-14-chicago-taxi-classification</a></li>
  <li><a href="#recap" id="toc-recap" class="nav-link" data-scroll-target="#recap">Recap</a></li>
  </ul>
</li>
  <li>
<a href="#modeling-review" id="toc-modeling-review" class="nav-link" data-scroll-target="#modeling-review">Modeling review</a>
  <ul class="collapse">
<li><a href="#hotel-cancellations" id="toc-hotel-cancellations" class="nav-link" data-scroll-target="#hotel-cancellations">Hotel cancellations</a></li>
  <li><a href="#data-prep" id="toc-data-prep" class="nav-link" data-scroll-target="#data-prep">Data prep</a></li>
  <li><a href="#participate" id="toc-participate" class="nav-link" data-scroll-target="#participate">Participate ðŸ“±ðŸ’»</a></li>
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression">Linear regression</a></li>
  <li><a href="#linear-regression-with-log-transformed-outcome" id="toc-linear-regression-with-log-transformed-outcome" class="nav-link" data-scroll-target="#linear-regression-with-log-transformed-outcome">Linear regression with log-transformed outcome</a></li>
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression">Logistic regression</a></li>
  <li><a href="#cancellation-arrival-date" id="toc-cancellation-arrival-date" class="nav-link" data-scroll-target="#cancellation-arrival-date">Cancellation ~ arrival date</a></li>
  <li><a href="#slope-in-logistic-regression" id="toc-slope-in-logistic-regression" class="nav-link" data-scroll-target="#slope-in-logistic-regression">Slope in logistic regression</a></li>
  <li><a href="#intercept-in-logistic-regression" id="toc-intercept-in-logistic-regression" class="nav-link" data-scroll-target="#intercept-in-logistic-regression">Intercept in logistic regression</a></li>
  <li><a href="#prediction-in-logistic-regression" id="toc-prediction-in-logistic-regression" class="nav-link" data-scroll-target="#prediction-in-logistic-regression">Prediction in logistic regression</a></li>
  <li><a href="#augment-vs.-predict" id="toc-augment-vs.-predict" class="nav-link" data-scroll-target="#augment-vs.-predict"><code>augment()</code> vs.&nbsp;<code>predict()</code></a></li>
  <li><a href="#cancellation-arrival-date-hotel-type" id="toc-cancellation-arrival-date-hotel-type" class="nav-link" data-scroll-target="#cancellation-arrival-date-hotel-type">Cancellation ~ arrival date + hotel type</a></li>
  <li><a href="#slope-in-logistic-regression-1" id="toc-slope-in-logistic-regression-1" class="nav-link" data-scroll-target="#slope-in-logistic-regression-1">Slope in logistic regression</a></li>
  <li><a href="#slope-in-logistic-regression-2" id="toc-slope-in-logistic-regression-2" class="nav-link" data-scroll-target="#slope-in-logistic-regression-2">Slope in logistic regression</a></li>
  <li><a href="#intercept-in-logistic-regression-1" id="toc-intercept-in-logistic-regression-1" class="nav-link" data-scroll-target="#intercept-in-logistic-regression-1">Intercept in logistic regression</a></li>
  <li><a href="#cancellation-arrival-date-hotel-type-1" id="toc-cancellation-arrival-date-hotel-type-1" class="nav-link" data-scroll-target="#cancellation-arrival-date-hotel-type-1">Cancellation ~ arrival date * hotel type</a></li>
  <li><a href="#logistic-regression-w-interaction-effect" id="toc-logistic-regression-w-interaction-effect" class="nav-link" data-scroll-target="#logistic-regression-w-interaction-effect">Logistic regression w/ interaction effect</a></li>
  <li><a href="#logistic-regression-w-interaction-effect-1" id="toc-logistic-regression-w-interaction-effect-1" class="nav-link" data-scroll-target="#logistic-regression-w-interaction-effect-1">Logistic regression w/ interaction effect</a></li>
  <li><a href="#logistic-regression-w-interaction-effect-2" id="toc-logistic-regression-w-interaction-effect-2" class="nav-link" data-scroll-target="#logistic-regression-w-interaction-effect-2">Logistic regression w/ interaction effect</a></li>
  <li><a href="#logistic-regression-w-interaction-effect-3" id="toc-logistic-regression-w-interaction-effect-3" class="nav-link" data-scroll-target="#logistic-regression-w-interaction-effect-3">Logistic regression w/ interaction effect</a></li>
  <li><a href="#logistic-regression-w-interaction-effect-4" id="toc-logistic-regression-w-interaction-effect-4" class="nav-link" data-scroll-target="#logistic-regression-w-interaction-effect-4">Logistic regression w/ interaction effect</a></li>
  <li><a href="#participate-1" id="toc-participate-1" class="nav-link" data-scroll-target="#participate-1">Participate ðŸ“±ðŸ’»</a></li>
  <li><a href="#area-under-the-roc-curve-auc" id="toc-area-under-the-roc-curve-auc" class="nav-link" data-scroll-target="#area-under-the-roc-curve-auc">Area under the ROC curve (AUC)</a></li>
  <li><a href="#linear-regression-1" id="toc-linear-regression-1" class="nav-link" data-scroll-target="#linear-regression-1">Linear regression</a></li>
  <li><a href="#participate-2" id="toc-participate-2" class="nav-link" data-scroll-target="#participate-2">Participate ðŸ“±ðŸ’»</a></li>
  <li><a href="#participate-3" id="toc-participate-3" class="nav-link" data-scroll-target="#participate-3">Participate ðŸ“±ðŸ’»</a></li>
  <li><a href="#participate-4" id="toc-participate-4" class="nav-link" data-scroll-target="#participate-4">Participate ðŸ“±ðŸ’»</a></li>
  <li><a href="#participate-5" id="toc-participate-5" class="nav-link" data-scroll-target="#participate-5">Participate ðŸ“±ðŸ’»</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/sta199-f25/sta199-f25.github.io/edit/main/slides/23-exam-2-review.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/sta199-f25/sta199-f25.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="23-exam-2-review-slides.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Exam 2 review</h1>
<p class="subtitle lead">Lecture 23</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Dr.&nbsp;Mine Ã‡etinkaya-Rundel </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Duke University <br> STA 199 - Fall 2025
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 18, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header><section id="warm-up" class="level1"><h1>Warm-up</h1>
<section id="announcements" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="announcements">Announcements</h2>
<ul>
<li>
<p>Exam - In class:</p>
<ul>
<li>Cheat sheet: 8.5x11, both sides, hand written or typed, any content you want, must be prepared by you</li>
<li>Bring a pencil and eraser (youâ€™re allowed to use a pen, but you might not want to)</li>
</ul>
</li>
<li>
<p>Exam - Take home:</p>
<ul>
<li>Open book, notes, internet</li>
<li>No office hours</li>
<li>Questions on Ed (private by default)</li>
<li>Due Saturday, November 22 at noon</li>
</ul>
</li>
<li><p>Reminder: Academic dishonesty / Duke Community Standard</p></li>
<li><p>Next Tuesday: Can watch class live on Panopto link</p></li>
</ul></section><section id="from-last-class-ae-14-chicago-taxi-classification" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="from-last-class-ae-14-chicago-taxi-classification">From last class: ae-14-chicago-taxi-classification</h2>
<div class="appex">
<p>Finish up the application exercise by finding the area under the ROC curve.</p>
</div>
</section><section id="recap" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="recap">Recap</h2>
<div class="incremental">
<ul class="incremental">
<li><p>Split data into training and testing sets (generally 75/25)</p></li>
<li><p>Fit models on training data and reduce to a few candidate models</p></li>
<li><p>Make predictions on testing data</p></li>
<li>
<p>Evaluate predictions on testing data using appropriate predictive performance metrics</p>
<ul class="incremental">
<li>Linear models: Adjusted R-squared, AIC, etc.</li>
<li>Logistic models: False negative and positive rates, AUC (area under the curve), etc.</li>
</ul>
</li>
<li><p>Donâ€™t forget to also consider explainability and domain knowledge when selecting a final model</p></li>
<li><p>In a future machine learning course: Cross-validation (partitioning training data into training and validation sets and repeating this many times to evaluate model predictive performance before using the testing data), feature engineering, hyperparameter tuning, more complex models (random forests, gradient boosting machines, neural networks, etc.)</p></li>
</ul>
</div>
</section></section><section id="modeling-review" class="level1"><h1>Modeling review</h1>
<section id="hotel-cancellations" class="level2"><h2 class="anchored" data-anchor-id="hotel-cancellations">Hotel cancellations</h2>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org">tidymodels</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">hotels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"data/hotels.csv"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="data-prep" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="data-prep">Data prep</h2>
<ul>
<li>Relevel <code>is_canceled</code>
</li>
<li>Remove bookings with average daily rate greater than $1,000</li>
<li>Remove bookings with number of adults greater than or equal to 5</li>
<li>Split the data into a training set (75%) and a testing set (25%)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>hotels <span class="ot">&lt;-</span> hotels <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>    <span class="at">is_canceled =</span> <span class="fu">if_else</span>(is_canceled <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"canceled"</span>, <span class="st">"not canceled"</span>),</span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="at">is_canceled =</span> <span class="fu">fct_relevel</span>(is_canceled, <span class="st">"not canceled"</span>, <span class="st">"canceled"</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="fu">filter</span>(adr <span class="sc">&lt;=</span> <span class="dv">1000</span>, adults <span class="sc">&lt;</span> <span class="dv">5</span>)</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="fu">set.seed</span>(<span class="dv">1117</span>)</span>
<span id="cb3-9"><a href="#cb3-9"></a>hotels_split <span class="ot">&lt;-</span> <span class="fu">initial_split</span>(hotels)</span>
<span id="cb3-10"><a href="#cb3-10"></a>hotels_train <span class="ot">&lt;-</span> <span class="fu">training</span>(hotels_split)</span>
<span id="cb3-11"><a href="#cb3-11"></a>hotels_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(hotels_split)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="participate" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="participate">Participate ðŸ“±ðŸ’»</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="wooclap">
<p>What type of model would you use to answer the question:</p>
<blockquote class="blockquote">
<p>Are reservations earlier in the month or later in the month more likely to be cancelled?</p>
</blockquote>
<div class="wooclap-choices">
<ul>
<li>Linear regression with a numerical predictor</li>
<li>Linear regression with a categorical predictor</li>
<li>Linear regression with a log-transformed outcome and a numerical predictor</li>
<li>Linear regression with a log-transformed outcome and a categorical predictor</li>
<li>Logistic regression with a numerical predictor <span class="fragment">âœ…</span>
</li>
<li>Logistic regression with a categorical predictor</li>
</ul>
</div>
</div>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/wooclap-qr.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="images/wooclap-qr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="200"></a></p>
</figure>
</div>
<div class="small">
<p>Scan the QR code or go to <a href="https://app.wooclap.com/sta199">app.wooclap.com/sta199</a>. Log in with your Duke NetID.</p>
</div>
</div>
</div>
</section><section id="linear-regression" class="level2"><h2 class="anchored" data-anchor-id="linear-regression">Linear regression</h2>
<p>Numerical outcome:</p>
<p><span class="math display">\[
y = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots + \beta_k x_k + \varepsilon
\]</span></p>
<p><br></p>
<p><span class="math display">\[
\widehat{y} = b_0 + b_1 x_1 + b_2 x_2 + \cdots + b_k x_k
\]</span></p>
</section><section id="linear-regression-with-log-transformed-outcome" class="level2"><h2 class="anchored" data-anchor-id="linear-regression-with-log-transformed-outcome">Linear regression with log-transformed outcome</h2>
<p>Numerical outcome, log-transformed for a better linear fit:</p>
<p><span class="math display">\[
log(y) = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots + \beta_k x_k + \varepsilon
\]</span></p>
<p><br></p>
<p><span class="math display">\[
log(\widehat{y}) = b_0 + b_1 x_1 + b_2 x_2 + \cdots + b_k x_k
\]</span></p>
</section><section id="logistic-regression" class="level2"><h2 class="anchored" data-anchor-id="logistic-regression">Logistic regression</h2>
<p>Binary outcome, where <span class="math inline">\(p = P(Y=1)\)</span>, the probability of success:</p>
<p><span class="math display">\[
\log\left(\frac{p}{1-p}\right) = \beta_0 + \beta_1 x_1 + \beta_2 x_2 + \cdots + \beta_k x_k + \varepsilon
\]</span></p>
<p><br></p>
<p><span class="math display">\[
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) = b_0 + b_1 x_1 + b_2 x_2 + \cdots + b_k x_k
\]</span></p>
</section><section id="cancellation-arrival-date" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="cancellation-arrival-date">Cancellation ~ arrival date</h2>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">is_canceled_fit_1</span> <span class="op">&lt;-</span> <span class="fu">logistic_reg</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">fit</span><span class="op">(</span><span class="va">is_canceled</span> <span class="op">~</span> <span class="va">arrival_date_day_of_month</span>, data <span class="op">=</span> <span class="va">hotels_train</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 Ã— 5
  term                      estimate std.error statistic   p.value
  &lt;chr&gt;                        &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)               -0.510    0.0142      -35.8  1.80e-280
2 arrival_date_day_of_month -0.00152  0.000789     -1.93 5.41e-  2</code></pre>
</div>
</div>
</section><section id="slope-in-logistic-regression" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="slope-in-logistic-regression">Slope in logistic regression</h2>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">estimate</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>exp_estimate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 Ã— 3
  term                      estimate exp_estimate
  &lt;chr&gt;                        &lt;dbl&gt;        &lt;dbl&gt;
1 (Intercept)               -0.510          0.601
2 arrival_date_day_of_month -0.00152        0.998</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>For each day the booking is later in the month, the odds of reservations being canceled is predicted to be lower by a factor of 0.998, on average.</p>
</section><section id="intercept-in-logistic-regression" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="intercept-in-logistic-regression">Intercept in logistic regression</h2>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">estimate</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>exp_estimate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 Ã— 3
  term                      estimate exp_estimate
  &lt;chr&gt;                        &lt;dbl&gt;        &lt;dbl&gt;
1 (Intercept)               -0.510          0.601
2 arrival_date_day_of_month -0.00152        0.998</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>On the 0th day of the month, the odds of reservations being canceled is predicted to be 0.601, on average. The intercept is not meaningful in this context since there is no 0th day of the month.</p>
</section><section id="prediction-in-logistic-regression" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="prediction-in-logistic-regression">Prediction in logistic regression</h2>
<div class="task">
<p>Predict the probability of cancellation for a booking made on the 18th day of the month.</p>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">new_booking</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>arrival_date_day_of_month <span class="op">=</span> <span class="fl">18</span><span class="op">)</span></span>
<span><span class="fu">augment</span><span class="op">(</span><span class="va">is_canceled_fit_1</span>, new_data <span class="op">=</span> <span class="va">new_booking</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 4
  .pred_class  `.pred_not canceled` .pred_canceled
  &lt;fct&gt;                       &lt;dbl&gt;          &lt;dbl&gt;
1 not canceled                0.631          0.369
# â„¹ 1 more variable: arrival_date_day_of_month &lt;dbl&gt;</code></pre>
</div>
</div>
</section><section id="augment-vs.-predict" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="augment-vs.-predict">
<code>augment()</code> vs.&nbsp;<code>predict()</code>
</h2>
<ul>
<li>
<code>augment()</code> returns the data frame passed to <code>new_data</code> _augment_ed by
<ul>
<li>the predicted probability of success,</li>
<li>the predicted probability of failure, and</li>
<li>the predicted class (based on a 0.5 cutoff by default)</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">augment</span><span class="op">(</span><span class="va">is_canceled_fit_1</span>, new_data <span class="op">=</span> <span class="va">new_booking</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 4
  .pred_class  `.pred_not canceled` .pred_canceled
  &lt;fct&gt;                       &lt;dbl&gt;          &lt;dbl&gt;
1 not canceled                0.631          0.369
# â„¹ 1 more variable: arrival_date_day_of_month &lt;dbl&gt;</code></pre>
</div>
</div>
<p>. . .</p>
<ul>
<li>
<code><a href="https://rdrr.io/r/stats/predict.html">predict()</a></code> the predicted class (based on a 0.5 cutoff by default)</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">is_canceled_fit_1</span>, new_data <span class="op">=</span> <span class="va">new_booking</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 1
  .pred_class 
  &lt;fct&gt;       
1 not canceled</code></pre>
</div>
</div>
</section><section id="cancellation-arrival-date-hotel-type" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="cancellation-arrival-date-hotel-type">Cancellation ~ arrival date + hotel type</h2>
<div class="task">
<p>Fit another model to predict whether a reservation was cancelled from <code>arrival_date_day_of_month</code> and <code>hotel</code> type (Resort or City Hotel), allowing the relationship between <code>arrival_date_day_of_month</code> and <code>is_canceled</code> to <strong>not</strong> vary based on <code>hotel</code> type.</p>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">is_canceled_fit_2</span> <span class="op">&lt;-</span> <span class="fu">logistic_reg</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">fit</span><span class="op">(</span><span class="va">is_canceled</span> <span class="op">~</span> <span class="va">arrival_date_day_of_month</span> <span class="op">+</span> <span class="va">hotel</span>, data <span class="op">=</span> <span class="va">hotels_train</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_2</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 5
  term                      estimate std.error statistic  p.value
  &lt;chr&gt;                        &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)               -0.315    0.0151      -20.9  3.46e-97
2 arrival_date_day_of_month -0.00155  0.000797     -1.94 5.18e- 2
3 hotelResort Hotel         -0.614    0.0153      -40.0  0       </code></pre>
</div>
</div>
</section><section id="slope-in-logistic-regression-1" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="slope-in-logistic-regression-1">Slope in logistic regression</h2>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">estimate</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>exp_estimate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 3
  term                      estimate exp_estimate
  &lt;chr&gt;                        &lt;dbl&gt;        &lt;dbl&gt;
1 (Intercept)               -0.315          0.729
2 arrival_date_day_of_month -0.00155        0.998
3 hotelResort Hotel         -0.614          0.541</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>Holding hotel type constant, for each day the booking is later in the month, the odds of reservations being canceled is predicted to be lower by a factor of 0.998, on average.</p>
</section><section id="slope-in-logistic-regression-2" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="slope-in-logistic-regression-2">Slope in logistic regression</h2>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">estimate</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>exp_estimate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 3
  term                      estimate exp_estimate
  &lt;chr&gt;                        &lt;dbl&gt;        &lt;dbl&gt;
1 (Intercept)               -0.315          0.729
2 arrival_date_day_of_month -0.00155        0.998
3 hotelResort Hotel         -0.614          0.541</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>Holding arrival day of month constant, the odds of Resort Hotel reservations being canceled is predicted to be lower by a factor of 0.541 compared to City Hotel reservations, on average.</p>
</section><section id="intercept-in-logistic-regression-1" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="intercept-in-logistic-regression-1">Intercept in logistic regression</h2>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">estimate</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>exp_estimate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">estimate</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 3
  term                      estimate exp_estimate
  &lt;chr&gt;                        &lt;dbl&gt;        &lt;dbl&gt;
1 (Intercept)               -0.315          0.729
2 arrival_date_day_of_month -0.00155        0.998
3 hotelResort Hotel         -0.614          0.541</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>On the 0th day of the month, the odds of City Hotel reservations being canceled is predicted to be 0.729, on average. The intercept is not meaningful in this context since there is no 0th day of the month.</p>
</section><section id="cancellation-arrival-date-hotel-type-1" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="cancellation-arrival-date-hotel-type-1">Cancellation ~ arrival date * hotel type</h2>
<div class="task">
<p>Fit another model to predict whether a reservation was cancelled from <code>arrival_date_day_of_month</code> and <code>hotel</code> type (Resort or City Hotel), allowing the relationship between <code>arrival_date_day_of_month</code> and <code>is_canceled</code> to vary based on <code>hotel</code> type.</p>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">is_canceled_fit_3</span> <span class="op">&lt;-</span> <span class="fu">logistic_reg</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">fit</span><span class="op">(</span><span class="va">is_canceled</span> <span class="op">~</span> <span class="va">arrival_date_day_of_month</span> <span class="op">*</span> <span class="va">hotel</span>, data <span class="op">=</span> <span class="va">hotels_train</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 5
  term                           estimate std.error statistic  p.value
  &lt;chr&gt;                             &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
1 (Intercept)                    -0.321    0.0172     -18.7   6.73e-78
2 arrival_date_day_of_month      -0.00117  0.000954    -1.23  2.19e- 1
3 hotelResort Hotel              -0.594    0.0313     -19.0   3.50e-80
4 arrival_date_day_of_month:hotâ€¦ -0.00125  0.00174     -0.719 4.72e- 1</code></pre>
</div>
</div>
</section><section id="logistic-regression-w-interaction-effect" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="logistic-regression-w-interaction-effect">Logistic regression w/ interaction effect</h2>
<div class="cell">
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tidy</span><span class="op">(</span><span class="va">is_canceled_fit_3</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">term</span>, <span class="va">estimate</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 2
  term                                        estimate
  &lt;chr&gt;                                          &lt;dbl&gt;
1 (Intercept)                                 -0.321  
2 arrival_date_day_of_month                   -0.00117
3 hotelResort Hotel                           -0.594  
4 arrival_date_day_of_month:hotelResort Hotel -0.00125</code></pre>
</div>
</div>
<p><br></p>
<p>. . .</p>
<p><span class="math display">\[
\begin{aligned}
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) &amp;= -0.321 \\
&amp;- 0.00117 \times \texttt{arrival_date_day_of_month} \\
&amp;- 0.594 \times \texttt{hotelResort Hotel} \\
&amp;- 0.00125 \times \texttt{arrival_date_day_of_month:hotelResort Hotel} \\
\end{aligned}
\]</span></p>
</section><section id="logistic-regression-w-interaction-effect-1" class="level2 smaller scrollable"><h2 class="smaller scrollable anchored" data-anchor-id="logistic-regression-w-interaction-effect-1">Logistic regression w/ interaction effect</h2>
<p><span class="math display">\[
\begin{aligned}
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) &amp;= -0.321 \\
&amp;- 0.00117 \times \texttt{arrival_date_day_of_month} \\
&amp;- 0.594 \times \texttt{hotelResort Hotel} \\
&amp;- 0.00125 \times \texttt{arrival_date_day_of_month:hotelResort Hotel} \\
\end{aligned}
\]</span></p>
<p><br></p>
<p>. . .</p>
<p><strong>City Hotel:</strong></p>
<p><span class="math display">\[
\begin{aligned}
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) &amp;= -0.321 \\
&amp;- 0.00117 \times \texttt{arrival_date_day_of_month} \\
&amp;- 0.594 \times 0 \\
&amp;- 0.00125 \times \texttt{arrival_date_day_of_month} \times 0 \\
\\
&amp;= -0.321 - 0.00117 \times \texttt{arrival_date_day_of_month} \\
\end{aligned}
\]</span></p>
</section><section id="logistic-regression-w-interaction-effect-2" class="level2 smaller scrollable"><h2 class="smaller scrollable anchored" data-anchor-id="logistic-regression-w-interaction-effect-2">Logistic regression w/ interaction effect</h2>
<p><span class="math display">\[
\begin{aligned}
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) &amp;= -0.321 \\
&amp;- 0.00117 \times \texttt{arrival_date_day_of_month} \\
&amp;- 0.594 \times \texttt{hotelResort Hotel} \\
&amp;- 0.00125 \times \texttt{arrival_date_day_of_month:hotelResort Hotel} \\
\end{aligned}
\]</span></p>
<p><br></p>
<p>. . .</p>
<p><strong>Resort Hotel:</strong></p>
<p><span class="math display">\[
\begin{aligned}
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) &amp;= -0.321 \\
&amp;- 0.00117 \times \texttt{arrival_date_day_of_month} \\
&amp;- 0.594 \times 1 \\
&amp;- 0.00125 \times \texttt{arrival_date_day_of_month} \times 1 \\
\\
&amp;= -(0.321+0.594) - (0.00117+0.00125) \times \texttt{arrival_date_day_of_month} \\
\\
&amp;= -0.915 - 0.00242 \times \texttt{arrival_date_day_of_month} \\
\end{aligned}
\]</span></p>
</section><section id="logistic-regression-w-interaction-effect-3" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="logistic-regression-w-interaction-effect-3">Logistic regression w/ interaction effect</h2>
<p><strong>City Hotel:</strong></p>
<p><span class="math display">\[
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) = -0.321 - 0.00117 \times \texttt{arrival_date_day_of_month}
\]</span></p>
<ul>
<li><p><code>exp(-0.00117)</code> = 0.999: In City Hotels, for each day the booking is later in the month, the odds of reservations being canceled is predicted to be lower by a factor of 0.999, on average.</p></li>
<li><p><code>exp(âˆ’0.321)</code> = 0.725: In City Hotels, on the 0th day of the month, the odds of reservations being canceled is predicted to be 0.725, on average. The intercept is not meaningful in this context since there is no 0th day of the month.</p></li>
</ul></section><section id="logistic-regression-w-interaction-effect-4" class="level2 smaller"><h2 class="smaller anchored" data-anchor-id="logistic-regression-w-interaction-effect-4">Logistic regression w/ interaction effect</h2>
<p><strong>Resort Hotel:</strong></p>
<p><span class="math display">\[
\log\left(\frac{\widehat{p}}{1-\widehat{p}}\right) = -0.915 - 0.00242 \times \texttt{arrival_date_day_of_month}
\]</span></p>
<ul>
<li><p><code>exp(-0.00117)</code> = 0.998: In Resort Hotels, for each day the booking is later in the month, the odds of reservations being canceled is predicted to be lower by a factor of 0.998, on average.</p></li>
<li><p><code>exp(âˆ’0.321)</code> = 0.401: In Resort Hotels, on the 0th day of the month, the odds of reservations being canceled is predicted to be 0.401, on average. The intercept is not meaningful in this context since there is no 0th day of the month.</p></li>
</ul></section><section id="participate-1" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="participate-1">Participate ðŸ“±ðŸ’»</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="wooclap">
<p>Suppose we want to select a final model to predict whether a reservation was cancelled. Which metric would be most appropriate to evaluate the predictive performance of our logistic regression models?</p>
<div class="wooclap-choices">
<ul>
<li>True positive rate</li>
<li>Area under the ROC curve <span class="fragment">âœ…</span>
</li>
<li>Adjusted R-squared</li>
<li>Root mean squared error</li>
<li>R-squared</li>
</ul>
</div>
</div>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/wooclap-qr.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="images/wooclap-qr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="200"></a></p>
</figure>
</div>
<div class="small">
<p>Scan the QR code or go to <a href="https://app.wooclap.com/sta199">app.wooclap.com/sta199</a>. Log in with your Duke NetID.</p>
</div>
</div>
</div>
</section><section id="area-under-the-roc-curve-auc" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="area-under-the-roc-curve-auc">Area under the ROC curve (AUC)</h2>
<div class="cell">
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">is_canceled_aug_1</span> <span class="op">&lt;-</span> <span class="fu">augment</span><span class="op">(</span><span class="va">is_canceled_fit_1</span>, new_data <span class="op">=</span> <span class="va">hotels_test</span><span class="op">)</span></span>
<span><span class="va">is_canceled_aug_2</span> <span class="op">&lt;-</span> <span class="fu">augment</span><span class="op">(</span><span class="va">is_canceled_fit_2</span>, new_data <span class="op">=</span> <span class="va">hotels_test</span><span class="op">)</span></span>
<span><span class="va">is_canceled_aug_3</span> <span class="op">&lt;-</span> <span class="fu">augment</span><span class="op">(</span><span class="va">is_canceled_fit_3</span>, new_data <span class="op">=</span> <span class="va">hotels_test</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column fragment" style="width:33%;">
<p>Single predictor:</p>
<div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">roc_auc</span><span class="op">(</span></span>
<span>  <span class="va">is_canceled_aug_1</span>,</span>
<span>  truth <span class="op">=</span> <span class="va">is_canceled</span>,</span>
<span>  <span class="va">.pred_canceled</span>,</span>
<span>  event_level <span class="op">=</span> <span class="st">"second"</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 roc_auc binary         0.503</code></pre>
</div>
</div>
</div>
<div class="column fragment" style="width:33%;">
<p>Main effects:</p>
<div class="cell">
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">roc_auc</span><span class="op">(</span></span>
<span>  <span class="va">is_canceled_aug_2</span>,</span>
<span>  truth <span class="op">=</span> <span class="va">is_canceled</span>,</span>
<span>  <span class="va">.pred_canceled</span>,</span>
<span>  event_level <span class="op">=</span> <span class="st">"second"</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 roc_auc binary         0.571</code></pre>
</div>
</div>
</div>
<div class="column fragment" style="width:33%;">
<p>Interaction effects:</p>
<div class="cell">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">roc_auc</span><span class="op">(</span></span>
<span>  <span class="va">is_canceled_aug_3</span>,</span>
<span>  truth <span class="op">=</span> <span class="va">is_canceled</span>,</span>
<span>  <span class="va">.pred_canceled</span>,</span>
<span>  event_level <span class="op">=</span> <span class="st">"second"</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 3
  .metric .estimator .estimate
  &lt;chr&gt;   &lt;chr&gt;          &lt;dbl&gt;
1 roc_auc binary         0.571</code></pre>
</div>
</div>
</div>
</div>
<div class="task fragment">
<p>Which model would you select as your final model based on AUC?</p>
</div>
</section><section id="linear-regression-1" class="level2"><h2 class="anchored" data-anchor-id="linear-regression-1">Linear regression</h2>
<p>The dataset also contains information about the average daily rate (<code>adr</code>) for each reservation. The following model predicts <code>adr</code> from <code>adults</code> and <code>hotel</code> type.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 5
  term              estimate std.error statistic   p.value
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)           50.5     0.605      83.5 0        
2 adults                29.5     0.311      94.9 0        
3 hotelResort Hotel    -10.7     0.322     -33.1 2.48e-239</code></pre>
</div>
</div>
</section><section id="participate-2" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="participate-2">Participate ðŸ“±ðŸ’»</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="wooclap">
<p>Which of the following is the best interpretation of the slope coefficient for <code>adults</code>?</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 5
  term              estimate std.error statistic   p.value
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)           50.5     0.605      83.5 0        
2 adults                29.5     0.311      94.9 0        
3 hotelResort Hotel    -10.7     0.322     -33.1 2.48e-239</code></pre>
</div>
</div>
<p>For each additional adult in the booking, the average daily rate is predicted to be higher by $29.50</p>
<div class="wooclap-choices">
<ul>
<li>on average, holding hotel type constant. <span class="fragment">âœ…</span>
</li>
<li>for Resort Hotels compared to City Hotels, on average.</li>
<li>for City Hotels compared to Resort Hotels, on average.</li>
<li>on average, not holding any other variables constant.</li>
</ul>
</div>
</div>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/wooclap-qr.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="images/wooclap-qr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="200"></a></p>
</figure>
</div>
<div class="small">
<p>Scan the QR code or go to <a href="https://app.wooclap.com/sta199">app.wooclap.com/sta199</a>. Log in with your Duke NetID.</p>
</div>
</div>
</div>
</section><section id="participate-3" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="participate-3">Participate ðŸ“±ðŸ’»</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="wooclap medium">
<p>Which of the following is the correct interpretation of the slope coefficient for <code>hotel</code>?</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 5
  term              estimate std.error statistic   p.value
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)           50.5     0.605      83.5 0        
2 adults                29.5     0.311      94.9 0        
3 hotelResort Hotel    -10.7     0.322     -33.1 2.48e-239</code></pre>
</div>
</div>
<div class="wooclap-choices">
<ul>
<li>For each additional Resort Hotel booking, the predicted average daily rate is $10.70 lower, holding number of adults constant.</li>
<li>For each additional adult in the booking, the average daily rate is predicted to be lower by $10.70 for resort hotels compared to City Hotels, on average.</li>
<li>Resort Hotels bookings are predicted to have an average daily rate that is $10.70 lower than City Hotels, on average, holding number of adults constant. <span class="fragment">âœ…</span>
</li>
<li>Resort Hotels bookings are predicted to have an average daily rate that is $10.70 higher than City Hotels, on average, holding number of adults constant.</li>
</ul>
</div>
</div>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/wooclap-qr.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="images/wooclap-qr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="200"></a></p>
</figure>
</div>
<div class="small">
<p>Scan the QR code or go to <a href="https://app.wooclap.com/sta199">app.wooclap.com/sta199</a>. Log in with your Duke NetID.</p>
</div>
</div>
</div>
</section><section id="participate-4" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="participate-4">Participate ðŸ“±ðŸ’»</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="wooclap">
<p>Which of the following is the correct interpretation of the intercept?</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 5
  term              estimate std.error statistic   p.value
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)           50.5     0.605      83.5 0        
2 adults                29.5     0.311      94.9 0        
3 hotelResort Hotel    -10.7     0.322     -33.1 2.48e-239</code></pre>
</div>
</div>
<div class="wooclap-choices">
<ul>
<li>The predicted average daily rate for a bookings with 0 adults at a Resort Hotel is $50.50, on average.</li>
<li>The predicted average daily rate for a bookings with 0 adults at a City Hotel is $50.50, on average. <span class="fragment">âœ…</span>
</li>
<li>For each additional adult and Resort Hotel in the booking, the average daily rate is predicted to be $50.50 higher, on average.</li>
<li>For each additional adult and City Hotel in the booking, the average daily rate is predicted to be $50.50 higher, on average.</li>
</ul>
</div>
</div>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/wooclap-qr.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="images/wooclap-qr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="200"></a></p>
</figure>
</div>
<div class="small">
<p>Scan the QR code or go to <a href="https://app.wooclap.com/sta199">app.wooclap.com/sta199</a>. Log in with your Duke NetID.</p>
</div>
</div>
</div>
</section><section id="participate-5" class="level2 xsmall"><h2 class="xsmall anchored" data-anchor-id="participate-5">Participate ðŸ“±ðŸ’»</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="wooclap">
<p>Which of the following (Plot A or Plot B) is the correct visual representation of this model?</p>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><a href="23-exam-2-review_files/figure-revealjs/unnamed-chunk-25-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="23-exam-2-review_files/figure-revealjs/unnamed-chunk-25-1.png" class="img-fluid" width="480"></a></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><a href="23-exam-2-review_files/figure-revealjs/unnamed-chunk-25-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="23-exam-2-review_files/figure-revealjs/unnamed-chunk-25-2.png" class="img-fluid" width="480"></a></p>
</div>
</div>
</div>
<div class="wooclap-choices">
<ul>
<li>Plot A</li>
<li>Plot B <span class="fragment">âœ…</span>
</li>
</ul>
</div>
</div>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><a href="images/wooclap-qr.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="images/wooclap-qr.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="200"></a></p>
</figure>
</div>
<div class="small">
<p>Scan the QR code or go to <a href="https://app.wooclap.com/sta199">app.wooclap.com/sta199</a>. Log in with your Duke NetID.</p>
</div>
</div>
</div>


</section></section></main><!-- /main --><script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/sta199-f25\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Â© Copyright 2025, Mine Ã‡etinkaya-Rundel, Mary Knox</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/sta199-f25/sta199-f25.github.io/edit/main/slides/23-exam-2-review.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/sta199-f25/sta199-f25.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with <span style="color: #FFBE98;"><i class="fa-solid fa-heart" aria-label="heart"></i></span> and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer><script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>


</body></html>