{
  "hash": "f2758fe84e55181957fda739156ec107",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 04: Gerrymandering + data exploration II\"\nsubtitle: \"Suggested answers\"\ncategories: \n  - Application exercise\n  - Answers\n---\n\n::: callout-important\nThese are suggested answers.\nThis document should be used as a reference only; it's not designed to be an exhaustive key.\n:::\n\n## Getting started\n\n### Packages\n\nWe'll use the **tidyverse** package for this analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(usdata)\nlibrary(ggbeeswarm)\nlibrary(ggthemes)\nlibrary(scales)\n```\n:::\n\n\n### Data\n\nThe data are availale in the **usdata** package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(gerrymander)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 435\nColumns: 12\n$ district   <chr> \"AK-AL\", \"AL-01\", \"AL-02\", \"AL-03\", \"AL-04\", \"AL-05\", \"AL-0…\n$ last_name  <chr> \"Young\", \"Byrne\", \"Roby\", \"Rogers\", \"Aderholt\", \"Brooks\", \"…\n$ first_name <chr> \"Don\", \"Bradley\", \"Martha\", \"Mike D.\", \"Rob\", \"Mo\", \"Gary\",…\n$ party16    <chr> \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"D\", \"R\", \"R\", \"R\", \"R\",…\n$ clinton16  <dbl> 37.6, 34.1, 33.0, 32.3, 17.4, 31.3, 26.1, 69.8, 30.2, 41.7,…\n$ trump16    <dbl> 52.8, 63.5, 64.9, 65.3, 80.4, 64.7, 70.8, 28.6, 65.0, 52.4,…\n$ dem16      <dbl> 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0,…\n$ state      <chr> \"AK\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AR\", \"AR\",…\n$ party18    <chr> \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"D\", \"R\", \"R\", \"R\", \"R\",…\n$ dem18      <dbl> 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 0,…\n$ flip18     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,…\n$ gerry      <fct> mid, high, high, high, high, high, high, high, mid, mid, mi…\n```\n\n\n:::\n:::\n\n\n## Congressional districts per state\n\nWhich state has the most congressional districts?\nHow many congressional districts are there in this state?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  count(state, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 50 × 2\n   state     n\n   <chr> <int>\n 1 CA       53\n 2 TX       36\n 3 FL       27\n 4 NY       27\n 5 IL       18\n 6 PA       18\n 7 OH       16\n 8 GA       14\n 9 MI       14\n10 NC       13\n# ℹ 40 more rows\n```\n\n\n:::\n:::\n\n\n## Gerrymandering and flipping\n\nIs a Congressional District more likely to be flipped to a Democratic seat if it has high prevalence of gerrymandering or low prevalence of gerrymandering?\nSupport your answer with a visualization and summary statistics.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  mutate(flip18 = as.factor(flip18)) |>\n  ggplot(aes(y = gerry, fill = flip18)) +\n  geom_bar(position = \"fill\")\n```\n\n::: {.cell-output-display}\n![](ae-04-gerrymander-explore-II-A_files/figure-html/flips-1.png){width=672}\n:::\n\n```{.r .cell-code}\ngerrymander |>\n  count(gerry, dem18) |>\n  group_by(gerry) |>\n  mutate(p = n / sum(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 4\n# Groups:   gerry [3]\n  gerry dem18     n     p\n  <fct> <dbl> <int> <dbl>\n1 low       0    25 0.403\n2 low       1    37 0.597\n3 mid       0   131 0.485\n4 mid       1   139 0.515\n5 high      0    52 0.505\n6 high      1    51 0.495\n```\n\n\n:::\n:::\n\n\n## Aesthetic mappings\n\nRecreate the following visualization, and then improve it.\n\n![](images/gerrymander-recreate.png)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = gerry, y = clinton16)) +\n  geom_beeswarm(color = \"gray50\", alpha = 0.5) +\n  geom_boxplot(\n    aes(color = gerry),\n    alpha = 0.5,\n    show.legend = FALSE\n  ) +\n  scale_color_colorblind() +\n  scale_y_continuous(labels = label_percent(scale = 1)) +\n  theme_minimal() +\n  labs(\n    x = \"Gerrymandering prevalence\",\n    y = \"Clinton vote share, 2016 (%)\",\n  )\n```\n\n::: {.cell-output-display}\n![](ae-04-gerrymander-explore-II-A_files/figure-html/recreate-1.png){width=672}\n:::\n:::\n\n",
    "supporting": [
      "ae-04-gerrymander-explore-II-A_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}