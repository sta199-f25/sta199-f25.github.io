{
  "hash": "5e0967ecebe56cb2f6a822ec8adeb697",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Exploratory data analysis I\"\nsubtitle: \"Lecture 5\"\ndate: \"2025-09-09\"\nformat: \n  revealjs: \n    output-file: 05-exploratory-data-analysis-I-slides.html\n    footer: \"[ðŸ”— sta199-f25.github.io](https://sta199-f25.github.io/)\"\n    theme: slides.scss\n    transition: fade\n    slide-number: true\n    logo: images/logo.png\n    toc: false\n  html: \n    code-link: true\n---\n\n\n\n# Warm-up\n\n## While you wait: Participate ðŸ“±ðŸ’» {.smaller}\n\n::: {.columns}\n\n::: {.column width=\"80%\"}\n\n::: wooclap\nSuppose you have a dataset `df` with 100 rows and 5 columns: `x1`, `x2`, `x3`, `x4`, and `x5`. `x1` is a categorical variable with levels `a` and `b`. You run the following code:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx |>\n  filter(x1 == \"a\") |>\n  select(x1, x2, x5)\n```\n:::\n\n\nThe resulting data frame will have:\n\n::: wooclap-choices\n- 3 columns, 50 rows \n- 3 columns, 100 rows\n- 3 columns, can't tell how many rows\n- 5 columns, 100 rows\n- 5 columns, can't tell how many rows\n:::\n\n:::\n\n:::\n\n::: {.column width=\"20%\"}\n\n![](images/wooclap-qr.png){width=\"200\" fig-align=\"center\"}\n\n::: small\nScan the QR code or go to [app.wooclap.com/sta199](https://app.wooclap.com/sta199). Log in with your Duke NetID.\n:::\n\n\n:::\n\n::: \n\n## Announcements {.smaller}\n\n**Labs:**\n\n- Submit PDF on Gradescope by the end of lab session \n\n- Make regular commits and push `.qmd` and PDF to GitHub\n\n- Graded _primarily_ for attendance, participation, collaboration, and effort primarily\n\n- Feedback provided for correctness\n\n## Announcements {.xsmall}\n\n**Homework:** HW 1 due Sunday 11:59pm\n\n- Part 1: Feedback from AI\n  - No Gradescope submission necessary\n  - Make regular commits and push `.qmd` and PDF to GitHub\n  - Immediate feedback from AI, no grading\n  - **Important:** Don't forget to set homework and question number in the app when requesting feedback\n\n- Part 2: Feedback from humans\n  - Submit PDF on Gradescope by the deadline\n  - Make regular commits and push `.qmd` and PDF to GitHub\n  - Graded for correctness, feedback provided within ~week\n  - **Important:** Don't forget to select pages corresponding to each question on Gradescope\n\n# Exploratory data analysis\n\n## Packages\n\n-   For the data: [**usdata**](https://openintrostat.github.io/usdata/)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(usdata)\n```\n:::\n\n\n-   For the analysis: [**tidyverse**](https://www.tidyverse.org/packages/), [**scales**](https://scales.r-lib.org), and [**ggthemes**](https://jrnold.github.io/ggthemes/)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(scales)\nlibrary(ggthemes)\n```\n:::\n\n\n## Data: `gerrymander` {.smaller}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 12\n   district last_name first_name party16 clinton16 trump16 dem16 state\n   <chr>    <chr>     <chr>      <chr>       <dbl>   <dbl> <dbl> <chr>\n 1 AK-AL    Young     Don        R            37.6    52.8     0 AK   \n 2 AL-01    Byrne     Bradley    R            34.1    63.5     0 AL   \n 3 AL-02    Roby      Martha     R            33      64.9     0 AL   \n 4 AL-03    Rogers    Mike D.    R            32.3    65.3     0 AL   \n 5 AL-04    Aderholt  Rob        R            17.4    80.4     0 AL   \n 6 AL-05    Brooks    Mo         R            31.3    64.7     0 AL   \n 7 AL-06    Palmer    Gary       R            26.1    70.8     0 AL   \n 8 AL-07    Sewell    Terri      D            69.8    28.6     1 AL   \n 9 AR-01    Crawford  Rick       R            30.2    65       0 AR   \n10 AR-02    Hill      French     R            41.7    52.4     0 AR   \n# â„¹ 425 more rows\n# â„¹ 4 more variables: party18 <chr>, dem18 <dbl>, flip18 <dbl>,\n#   gerry <fct>\n```\n\n\n:::\n:::\n\n\n## What is gerrymandering?\n\n<https://www.washingtonpost.com/business/wonkblog/gerrymandering-explained/2016/04/21/e447f5c2-07fe-11e6-bfed-ef65dff5970d_video.html>\n\n## Participate ðŸ“±ðŸ’» \n\n::: {.columns}\n\n::: {.column width=\"75%\"}\n\n::: wooclap\n\nYou are given a new dataset to analyze. What are some of the first things you would do to get to know the data?\n\n:::\n\n:::\n\n::: {.column width=\"25%\"}\n\n![](images/wooclap-qr.png){width=\"200\" fig-align=\"center\"}\n\n::: small\nScan the QR code or go to [app.wooclap.com/sta199](https://app.wooclap.com/sta199). Log in with your Duke NetID.\n:::\n\n\n:::\n\n::: \n\n## Data: `gerrymander` {.smaller}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(gerrymander)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 435\nColumns: 12\n$ district   <chr> \"AK-AL\", \"AL-01\", \"AL-02\", \"AL-03\", \"AL-04\", \"AL-â€¦\n$ last_name  <chr> \"Young\", \"Byrne\", \"Roby\", \"Rogers\", \"Aderholt\", \"â€¦\n$ first_name <chr> \"Don\", \"Bradley\", \"Martha\", \"Mike D.\", \"Rob\", \"Moâ€¦\n$ party16    <chr> \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"D\", \"R\", \"R\",â€¦\n$ clinton16  <dbl> 37.6, 34.1, 33.0, 32.3, 17.4, 31.3, 26.1, 69.8, 3â€¦\n$ trump16    <dbl> 52.8, 63.5, 64.9, 65.3, 80.4, 64.7, 70.8, 28.6, 6â€¦\n$ dem16      <dbl> 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0â€¦\n$ state      <chr> \"AK\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"AL\", \"â€¦\n$ party18    <chr> \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"R\", \"D\", \"R\", \"R\",â€¦\n$ dem18      <dbl> 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0â€¦\n$ flip18     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0â€¦\n$ gerry      <fct> mid, high, high, high, high, high, high, high, miâ€¦\n```\n\n\n:::\n:::\n\n\n## Data: `gerrymander` {.smaller}\n\n-   Rows: Congressional districts\n\n-   Columns:\n\n    -   Congressional district and state\n\n    -   2016 election: winning party, % for Clinton, % for Trump, whether a Democrat won the House election, name of election winner\n\n    -   2018 election: winning party, whether a Democrat won the 2018 House election\n\n    -   Whether a Democrat flipped the seat in the 2018 election\n\n    -   Prevalence of gerrymandering: low, mid, and high\n\n## Variable types: `district`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | [categorical, ID]{.fragment}       |\n| `last_name`  |                                    |\n| `first_name` |                                    |\n| `party16`    |                                    |\n| `clinton16`  |                                    |\n| `trump16`    |                                    |\n| `dem16`      |                                    |\n| `state`      |                                    |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(district)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   district\n   <chr>   \n 1 AK-AL   \n 2 AL-01   \n 3 AL-02   \n 4 AL-03   \n 5 AL-04   \n 6 AL-05   \n 7 AL-06   \n 8 AL-07   \n 9 AR-01   \n10 AR-02   \n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `last_name`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | [categorical, ID]{.fragment}       |\n| `first_name` |                                    |\n| `party16`    |                                    |\n| `clinton16`  |                                    |\n| `trump16`    |                                    |\n| `dem16`      |                                    |\n| `state`      |                                    |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(last_name)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   last_name\n   <chr>    \n 1 Young    \n 2 Byrne    \n 3 Roby     \n 4 Rogers   \n 5 Aderholt \n 6 Brooks   \n 7 Palmer   \n 8 Sewell   \n 9 Crawford \n10 Hill     \n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `first_name`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | [categorical, ID]{.fragment}       |\n| `party16`    |                                    |\n| `clinton16`  |                                    |\n| `trump16`    |                                    |\n| `dem16`      |                                    |\n| `state`      |                                    |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(first_name)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   first_name\n   <chr>     \n 1 Don       \n 2 Bradley   \n 3 Martha    \n 4 Mike D.   \n 5 Rob       \n 6 Mo        \n 7 Gary      \n 8 Terri     \n 9 Rick      \n10 French    \n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `party16`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | [categorical]{.fragment}           |\n| `clinton16`  |                                    |\n| `trump16`    |                                    |\n| `dem16`      |                                    |\n| `state`      |                                    |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(party16)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   party16\n   <chr>  \n 1 R      \n 2 R      \n 3 R      \n 4 R      \n 5 R      \n 6 R      \n 7 R      \n 8 D      \n 9 R      \n10 R      \n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `clinton16`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | [numerical, continuous]{.fragment} |\n| `trump16`    |                                    |\n| `dem16`      |                                    |\n| `state`      |                                    |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(clinton16)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   clinton16\n       <dbl>\n 1      37.6\n 2      34.1\n 3      33  \n 4      32.3\n 5      17.4\n 6      31.3\n 7      26.1\n 8      69.8\n 9      30.2\n10      41.7\n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `trump16`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | numerical, continuous              |\n| `trump16`    | [numerical, continuous]{.fragment} |\n| `dem16`      |                                    |\n| `state`      |                                    |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(trump16)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   trump16\n     <dbl>\n 1    52.8\n 2    63.5\n 3    64.9\n 4    65.3\n 5    80.4\n 6    64.7\n 7    70.8\n 8    28.6\n 9    65  \n10    52.4\n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `dem16`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | numerical, continuous              |\n| `trump16`    | numerical, continuous              |\n| `dem16`      | [categorical]{.fragment}           |\n| `state`      |                                    |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(dem16)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   dem16\n   <dbl>\n 1     0\n 2     0\n 3     0\n 4     0\n 5     0\n 6     0\n 7     0\n 8     1\n 9     0\n10     0\n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `state`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | numerical, continuous              |\n| `trump16`    | numerical, continuous              |\n| `dem16`      | categorical                        |\n| `state`      | [categorical]{.fragment}           |\n| `party18`    |                                    |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(state)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   state\n   <chr>\n 1 AK   \n 2 AL   \n 3 AL   \n 4 AL   \n 5 AL   \n 6 AL   \n 7 AL   \n 8 AL   \n 9 AR   \n10 AR   \n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `party18`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | numerical, continuous              |\n| `trump16`    | numerical, continuous              |\n| `dem16`      | categorical                        |\n| `state`      | categorical                        |\n| `party18`    | [categorical]{.fragment}           |\n| `dem18`      |                                    |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(party18)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   party18\n   <chr>  \n 1 R      \n 2 R      \n 3 R      \n 4 R      \n 5 R      \n 6 R      \n 7 R      \n 8 D      \n 9 R      \n10 R      \n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `dem18`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | numerical, continuous              |\n| `trump16`    | numerical, continuous              |\n| `dem16`      | categorical                        |\n| `state`      | categorical                        |\n| `party18`    | categorical                        |\n| `dem18`      | [categorical]{.fragment}           |\n| `flip18`     |                                    |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(dem18)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   dem18\n   <dbl>\n 1     0\n 2     0\n 3     0\n 4     0\n 5     0\n 6     0\n 7     0\n 8     1\n 9     0\n10     0\n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `flip18`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | numerical, continuous              |\n| `trump16`    | numerical, continuous              |\n| `dem16`      | categorical                        |\n| `state`      | categorical                        |\n| `party18`    | categorical                        |\n| `dem18`      | categorical                        |\n| `flip18`     | [categorical]{.fragment}           |\n| `gerry`      |                                    |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(flip18)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   flip18\n    <dbl>\n 1      0\n 2      0\n 3      0\n 4      0\n 5      0\n 6      0\n 7      0\n 8      0\n 9      0\n10      0\n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n## Variable types: `gerry`\n\n::: columns\n\n::: {.column .xsmall}\n\n| Variable     | Type                               |\n|--------------|------------------------------------|\n| `district`   | categorical, ID                    |\n| `last_name`  | categorical, ID                    |\n| `first_name` | categorical, ID                    |\n| `party16`    | categorical                        |\n| `clinton16`  | numerical, continuous              |\n| `trump16`    | numerical, continuous              |\n| `dem16`      | categorical                        |\n| `state`      | categorical                        |\n| `party18`    | categorical                        |\n| `dem18`      | categorical                        |\n| `flip18`     | categorical                        |\n| `gerry`      | [categorical, ordinal]{.fragment}  |\n\n:::\n\n::: {.column .small}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  select(gerry)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 435 Ã— 1\n   gerry\n   <fct>\n 1 mid  \n 2 high \n 3 high \n 4 high \n 5 high \n 6 high \n 7 high \n 8 high \n 9 mid  \n10 mid  \n# â„¹ 425 more rows\n```\n\n\n:::\n:::\n\n\n:::\n:::\n\n\n# Univariate analysis\n\n## Univariate analysis\n\nAnalyzing a single variable:\n\n::: incremental\n-   Numerical: histogram, box plot, density plot, etc.\n\n-   Categorical: bar plot, pie chart, etc.\n:::\n\n## Histogram - Step 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander)\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-18-1.png){width=960}\n:::\n:::\n\n\n## Histogram - Step 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = trump16))\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-19-1.png){width=960}\n:::\n:::\n\n\n## Histogram - Step 3\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_histogram()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-20-1.png){width=960}\n:::\n:::\n\n\n## Participate ðŸ“±ðŸ’» {.smaller}\n\n::: {.columns}\n\n::: {.column width=\"80%\"}\n\n::: wooclap\nWhich of the following histograms has the most appropriate binwidth for visualizing the distribution of `trump16`?\n\n\n::: {.cell layout-ncol=\"4\"}\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-21-1.png){width=480}\n:::\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-21-2.png){width=480}\n:::\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-21-3.png){width=480}\n:::\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-21-4.png){width=480}\n:::\n:::\n\n\n:::\n\n:::\n\n::: {.column width=\"20%\"}\n\n![](images/wooclap-qr.png){width=\"200\" fig-align=\"center\"}\n\n::: small\nScan the QR code or go to [app.wooclap.com/sta199](https://app.wooclap.com/sta199). Log in with your Duke NetID.\n:::\n\n\n:::\n\n::: \n\n## Histogram - Step 4\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_histogram(binwidth = 5) +\n  scale_x_continuous(labels = label_percent(scale = 1))\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-22-1.png){width=960}\n:::\n:::\n\n\n## Histogram - Step 5 {.smaller}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4-9\"}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_histogram(binwidth = 5) +\n  scale_x_continuous(labels = label_percent(scale = 1)) +\n  labs(\n    title = \"Percent of vote received by Trump in 2016 Presidential Election\",\n    subtitle = \"From each Congressional District\",\n    x = \"Percent of vote\",\n    y = \"Count\"\n  )\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-23-1.png){width=960}\n:::\n:::\n\n\n## Box plot - Step 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander)\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-24-1.png){width=960}\n:::\n:::\n\n\n## Box plot - Step 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = trump16))\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-25-1.png){width=960}\n:::\n:::\n\n\n## Box plot - Step 3\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-26-1.png){width=960}\n:::\n:::\n\n\n## Box plot - Alternative Step 2 + 3\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(y = trump16)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-27-1.png){width=960}\n:::\n:::\n\n\n## Box plot - Step 4\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-8\"}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_boxplot() +\n  labs(\n    title = \"Percent of vote received by Trump in 2016 Presidential Election\",\n    subtitle = \"From each Congressional District\",\n    x = \"Percent of vote\",\n    y = NULL\n  )\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-28-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander)\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-29-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = trump16))\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-30-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 3\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_density()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-31-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_density(color = \"firebrick\")\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-32-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 5\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_density(color = \"firebrick\", fill = \"firebrick1\")\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-33-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 6\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_density(color = \"firebrick\", fill = \"firebrick1\", alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-34-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 7\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_density(color = \"firebrick\", fill = \"firebrick1\", alpha = 0.5, linewidth = 1)\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-35-1.png){width=960}\n:::\n:::\n\n\n## Density plot - Step 8 {.smaller}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-8\"}\nggplot(gerrymander, aes(x = trump16)) +\n  geom_density(color = \"firebrick\", fill = \"firebrick1\", alpha = 0.5, linewidth = 2) +\n  labs(\n    title = \"Percent of vote received by Trump in 2016 Presidential Election\",\n    subtitle = \"From each Congressional District\",\n    x = \"Percent of vote\",\n    y = \"Density\"\n  )\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-36-1.png){width=960}\n:::\n:::\n\n\n## Summary statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  summarize(\n    mean = mean(trump16),\n    median = median(trump16)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 Ã— 2\n   mean median\n  <dbl>  <dbl>\n1  45.9   48.7\n```\n\n\n:::\n:::\n\n\n## Distribution of votes for Trump in the 2016 election {.smaller}\n\n::: question\nDescribe the distribution of percent of vote received by Trump in 2016 Presidential Election from Congressional Districts.\n:::\n\n-   Shape: [The distribution of votes for Trump in the 2016 election from Congressional Districts is **unimodal and left-skewed**.]{.fragment}\n\n-   Center: [The percent of vote received by Trump in the 2016 Presidential Election from a **typical** Congressional Districts is 48.7%.]{.fragment}\n\n-   Spread: [In the **middle 50%** of Congressional Districts, 34.8% to 58.1% of voters voted for Trump in the 2016 Presidential Election.]{.fragment}\n\n-   Unusual observations: [-]{.fragment}\n\n# Bivariate analysis\n\n## Bivariate analysis\n\nAnalyzing the relationship between two variables:\n\n::: incremental\n-   Numerical + numerical: scatterplot\n\n-   Numerical + categorical: side-by-side box plots, violin plots, etc.\n\n-   Categorical + categorical: stacked bar plots\n\n-   Using an aesthetic (e.g., fill, color, shape, etc.) or facets to represent the second variable in any plot\n:::\n\n## Side-by-side box plots\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"|2|3-6|8\"}\nggplot(\n  gerrymander, \n  aes(\n    x = trump16, \n    y = gerry\n    )\n  ) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-38-1.png){width=960}\n:::\n:::\n\n\n## Summary statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  summarize(\n    min = min(trump16),\n    q25 = quantile(trump16, 0.25),\n    median = median(trump16),\n    q75 = quantile(trump16, 0.75),\n    max = max(trump16),\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 Ã— 5\n    min   q25 median   q75   max\n  <dbl> <dbl>  <dbl> <dbl> <dbl>\n1   4.9  34.8   48.7  58.1  80.4\n```\n\n\n:::\n:::\n\n\n## Participate ðŸ“±ðŸ’» {.smaller}\n\n::: {.columns}\n\n::: {.column width=\"80%\"}\n\n::: wooclap\nWhat goes in the `[blank]` in the code below to do the following step for each level of `gerry`?\n\n::: {.columns}\n::: {.column width=\"60%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  # [blank]\n  summarize(\n    min = min(trump16),\n    q25 = quantile(trump16, 0.25),\n    median = median(trump16),\n    q75 = quantile(trump16, 0.75),\n    max = max(trump16),\n  )\n```\n:::\n\n\n:::\n::: {.column width=\"40%\"}\n\n::: wooclap-choices\n- `filter(gerry)`\n- `group_by(gerry)`\n- `mutate(gerry)`\n- `select(gerry)`\n:::\n\n:::\n::: \n\n:::\n\n:::\n\n::: {.column width=\"20%\"}\n\n![](images/wooclap-qr.png){width=\"200\" fig-align=\"center\"}\n\n::: small\nScan the QR code or go to [app.wooclap.com/sta199](https://app.wooclap.com/sta199). Log in with your Duke NetID.\n:::\n\n\n:::\n\n::: \n\n## Grouped summary statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerrymander |>\n  group_by(gerry) |>\n  summarize(\n    min = min(trump16),\n    q25 = quantile(trump16, 0.25),\n    median = median(trump16),\n    q75 = quantile(trump16, 0.75),\n    max = max(trump16),\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 Ã— 6\n  gerry   min   q25 median   q75   max\n  <fct> <dbl> <dbl>  <dbl> <dbl> <dbl>\n1 low     4.9  36.3   48.4  54.7  74.9\n2 mid     6.8  34.8   48.0  57.9  79.9\n3 high    9.2  33.5   50.5  60.8  80.4\n```\n\n\n:::\n:::\n\n\n## Density plots\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"|4|5|8\"}\nggplot(\n  gerrymander, \n  aes(\n    x = trump16, \n    color = gerry\n    )\n  ) +\n  geom_density()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-42-1.png){width=960}\n:::\n:::\n\n\n## Filled density plots\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n  gerrymander, \n  aes(\n    x = trump16, \n    color = gerry,\n    fill = gerry\n    )\n  ) +\n  geom_density()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-43-1.png){width=960}\n:::\n:::\n\n\n## Better filled density plots\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\nggplot(\n  gerrymander, \n  aes(x = trump16, color = gerry, fill = gerry)\n  ) +\n  geom_density(alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-44-1.png){width=960}\n:::\n:::\n\n\n## Better colors\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code  code-line-numbers=\"7-8\"}\nggplot(\n  gerrymander, \n  aes(x = trump16, color = gerry, fill = gerry)\n  ) +\n  geom_density(alpha = 0.5) +\n  scale_color_colorblind() +\n  scale_fill_colorblind()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-45-1.png){width=960}\n:::\n:::\n\n\n## Violin plots {.scrollable}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\nggplot(\n  gerrymander, \n  aes(x = trump16, y = gerry, color = gerry)\n  ) +\n  geom_violin() +\n  scale_color_colorblind() +\n  scale_fill_colorblind()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-46-1.png){width=960}\n:::\n:::\n\n\n## Multiple geoms {.scrollable}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n  gerrymander, \n  aes(x = trump16, y = gerry, color = gerry)\n  ) +\n  geom_violin() +\n  geom_point() +\n  scale_color_colorblind() +\n  scale_fill_colorblind()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-47-1.png){width=960}\n:::\n:::\n\n\n## Multiple geoms {.scrollable}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\nggplot(\n  gerrymander, \n  aes(x = trump16, y = gerry, color = gerry)\n  ) +\n  geom_violin() +\n  geom_jitter() +\n  scale_color_colorblind() +\n  scale_fill_colorblind()\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-48-1.png){width=960}\n:::\n:::\n\n\n## Remove legend {.scrollable}\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"9\"}\nggplot(\n  gerrymander, \n  aes(x = trump16, y = gerry, color = gerry)\n  ) +\n  geom_violin() +\n  geom_jitter() +\n  scale_color_colorblind() +\n  scale_fill_colorblind() +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](05-exploratory-data-analysis-I_files/figure-revealjs/unnamed-chunk-49-1.png){width=960}\n:::\n:::\n\n\n# Multivariate analysis\n\n## Multivariate analysis {.smaller}\n\nAnalyzing the relationship between multiple variables:\n\n::: incremental\n-   In general, one variable is identified as the **outcome** of interest\n\n-   The remaining variables are **predictors** or **explanatory variables**\n\n-   Plots for exploring multivariate relationships are the same as those for bivariate relationships, but **conditional** on one or more variables\n\n    -   Conditioning can be done via faceting or aesthetic mappings (e.g., scatterplot of `y` vs. `x1`, colored by `x2`, faceted by `x3`)\n\n-   Summary statistics for exploring multivariate relationships are the same as those for bivariate relationships, but **conditional** on one or more variables\n\n    -   Conditioning can be done via grouping (e.g., correlation between `y` and `x1`, grouped by levels of `x2` and `x3`)\n:::\n\n# Application exercise\n\n## ae\\-03\\-gerrymander\\-explore\\-I {.smaller}\n\n::: appex\n-   Go to your ae project in RStudio.\n\n-   If you haven't yet done so, make sure all of your changes up to this point are committed and pushed, i.e., there's nothing left in your Git pane.\n\n-   If you haven't yet done so, click Pull to get today's application exercise file: *ae\\-03\\-gerrymander\\-explore\\-I\\.qmd*.\n\n-   Work through the application exercise in class, and render, commit, and push your edits by the end of class.\n:::\n",
    "supporting": [
      "05-exploratory-data-analysis-I_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}