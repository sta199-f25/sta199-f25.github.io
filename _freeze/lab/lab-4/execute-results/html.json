{
  "hash": "779bb469958cec122958cf34a647a166",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Lab 4\nsubtitle: \"TO DO: ADD TITLE\"\ndescription: \"Due: End of lab on Mon, Sep 29\"\ncategories: Lab\nfilters:\n  - ../remove-fmt-skip.lua\ndraft: true\n---\n\n# Introduction\n\nIn this lab you'll\n\nTO DO: ADD A BRIEF DESCRIPTION OF WHAT THE LAB IS ABOUT.\n\nMake sure to upload your completed lab to Gradescope **by the end of your lab session** and commit and push your final version to GitHub.\n\n## Getting started\n\nBy now you should be familiar with how to get started with a lab assignment by cloning the GitHub repo for the assignment.\n\n<details>\n\n<summary>Click to expand if you need a refresher on how to get started with a lab assignment.</summary>\n\n-   Go to <https://cmgr.oit.duke.edu/containers> and login with your Duke NetID and Password.\n-   Click `STA199` under My reservations to log into your container. You should now see the RStudio environment.\n-   Go to the course organization at [github.com/sta199-f25](https://github.com/sta199-f25) organization on GitHub. Click on the repo with the prefix **lab-4**. It contains the starter documents you need to complete the homework.\n-   Click on the green **CODE** button, select **Use SSH**. Click on the clipboard icon to copy the repo URL.\n-   In RStudio, go to *File* ➛ *New Project* ➛*Version Control* ➛ *Git*.\n-   Copy and paste the URL of your assignment repo into the dialog box *Repository URL*. Again, please make sure to have *SSH* highlighted under *Clone* when you copy the address.\n-   Click *Create Project*, and the files from your GitHub repo will be displayed in the *Files* pane in RStudio.\n\n</details>\n\nOpen the *lab-4.qmd* template Quarto file and update the `authors` field to add your name first (first and last) and then your teammates' names (first and last).\nRender the document.\nExamine the rendered document and make sure your and your teammates' names are updated in the document.\nCommit and push your changes with a meaningful commit message and push to GitHub.\n\n<details>\n\n<summary>Click to expand if you need a refresher on assignment guidelines.</summary>\n\n### Code\n\nCode should follow the [tidyverse style](https://style.tidyverse.org/).\nParticularly,\n\n-   there should be spaces before and line breaks after each `+` when building a `ggplot`,\n-   there should also be spaces before and line breaks after each `|>` in a data transformation pipeline,\n-   code should be properly indented,\n-   there should be spaces around `=` signs and spaces after commas.\n\nAdditionally, all code should be visible in the PDF output, i.e., should not run off the page on the PDF.\nLong lines that run off the page should be split across multiple lines with line breaks.[^1]\n\n[^1]: Remember, haikus not novellas when writing code!\n\n### Plots\n\n-   Plots should have an informative title and, if needed, also a subtitle.\n-   Axes and legends should be labeled with both the variable name and its units (if applicable).\n-   Careful consideration should be given to aesthetic choices.\n\n### Workflow\n\nContinuing to develop a sound workflow for reproducible data analysis is important as you complete the lab and other assignments in this course.\n\n-   You should have at least 3 commits with meaningful commit messages by the end of the assignment.\n-   Final versions of both your `.qmd` file and the rendered PDF should be pushed to GitHub.\n\n\n</details>\n\n## Packages\n\nIn this lab we will work with the **tidyverse** package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n## Data\n\nSurveyUSA polled 900 NC adults between September 4-7, 2024.\nOf the 900 NC adults, 771 were identified by SurveyUSA as being registered to vote.[^1]\nThe following question was asked to these 771 adults:\n\n[^1]: Full survey results can be found at <https://www.surveyusa.com/client/PollReport.aspx?g=c6995e17-3837-413e-ac98-3684e1c74dc1>.\n\n> Should the use of marijuana for medical use remain against the law in North Carolina?\n> Or be legalized?\n\nResponses were broken down into the following categories:\n\n| Variable | Levels                                          |\n|:---------|:------------------------------------------------|\n| Age      | 18-49; 50+                                      |\n| Opinion  | Remain Against The Law; Be Made Legal; Not Sure |\n\nOf the 771 responses, 391 were between the ages of 18-49.\nOf the individuals that are between 18-49, 59 individuals responded that they think medical marijuana should remain against the law, 292 said it should be made legal, and the remainder were not sure.\nOf the individuals that are 50+, 67 individuals responded that they think medical marijuana should remain against the law, 245 said it should be made legal, and the remainder were not sure.\n\n# Questions\n\n## Question 1\n\na.  Fill in the code below to create a two-way table that summarizes these data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsurvey_counts <- tibble(\n  age = c(),\n  opinion = c(),\n  n = c()\n)\n\nsurvey_counts |>\n  pivot_wider(\n    names_from = ___,\n    values_from = ___\n  )\n```\n:::\n\n\nFor parts b-d below, use a single pipeline starting with `survey_counts`, calculate the desired proportions, and make sure the result is an **ungrouped** data frame with a column for relevant counts, a column for relevant proportions, and a column for the groups you're interested in.\n\nb.  Calculate the proportions of 18-49 year olds and 50+ year-olds in this sample.\n\nc.  Calculate the proportions of those who think medical marijuana should remain against the law, should be made legal, and who are not sure.\n\nd.  Calculate the proportions of individuals in this sample who think medical marijuana should remain against the law, should be made legal, and who are not sure\n\n    -   among those who are 18-49 years old and\n\n    -   among those who are 50+ years old.\n\n## Question 2\n\na.  Create a visualization that can be used to evaluate the relationship between `age` and `opinion` on legalizing medical marijuana in North Carolina based on this survey's results.\n\n::: callout-tip\nYour visualization should display the proportions you calculated in Question 1(d).\n:::\n\nb.  Based on your calculations so far, as well as your visualization, write 1-2 sentences that describe the relationship, in this sample, between age and opinion on legalizing medical marijuana in North Carolina.\n\n::: render-commit-push\nRender, commit, and push one last time.\nMake sure that you commit and push all changed documents and that your Git pane is completely empty before proceeding.\n:::\n\n# Wrap-up\n\n::: callout-warning\nBefore you wrap up the assignment, make sure that you render, commit, and push one final time so that the final versions of both your `.qmd` file and the rendered PDF are pushed to GitHub and your Git pane is empty.\nWe will be checking these to make sure you have been practicing how to commit and push changes.\n:::\n\n## Submission\n\nBy now you should also be familiar with how to submit your assignment in Gradescope.\n\n<details>\n\n<summary>Click to expand if you need a refresher on how to get started with a lab assignment.</summary>\n\nSubmit your PDF document to Gradescope by the end of the lab to be considered \"on time\":\n\n-   Go to <http://www.gradescope.com> and click *Log in* in the top right corner.\n-   Click *School Credentials* $\\rightarrow$ *Duke NetID* and log in using your NetID credentials.\n-   Click on your *STA 199* course.\n-   Click on the assignment, and you'll be prompted to submit it.\n-   Mark all the pages associated with question. All the pages of your lab should be associated with at least one question (i.e., should be \"checked\").\n\n::: callout-important\n## Checklist\n\nMake sure you have:\n\n-   attempted all questions\n-   rendered your Quarto document\n-   committed and pushed everything to your GitHub repository such that the Git pane in RStudio is empty\n-   uploaded your PDF to Gradescope\n:::\n\n\n</details>\n\n## Grading and feedback\n\n-   This lab is worth 30 points:\n    -   10 points for being in lab and turning in *something* -- no partial credit for this part.\n    -   20 points for:\n        -   answering the questions correctly -- there is partial credit for this part.\n        -   following the workflow -- there is partial credit for this part.\n-   The workflow points are for:\n    -   committing at least three times as you work through your lab,\n    -   having your final version of `.qmd` and `.pdf` files in your GitHub repository, and\n    -   overall organization.\n-   You'll receive feedback on your lab on Gradescope within a week.\n\nGood luck, and have fun with it!",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}