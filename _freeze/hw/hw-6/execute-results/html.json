{
  "hash": "d03496e15c13b030aac7a20c79b15fe8",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: HW 6\nsubtitle: More lemurs and even more babies\ndescription: \"Due: Fri, Dec 5, 11:59 pm<br>accepted until Sun, Dec 7, 11:59 pm with no penalty\"\ncategories: HW\nfilters:\n  - ../remove-fmt-skip.lua\ndraft: false\n---\n\n# Introduction\n\nOdd numbered questions on this assignment have AI feedback available.\nThey're for practice, not graded, and you get immediate feedback from AI, based on rubrics designed by the course instructor.\nSome of them are also required for subsequent questions.\nWe expect you to complete these questions but there won't be points allocated to them on the assignment.\nYou will still need to tag these pages Gradescope.\nThese questions are marked with \"**ğŸ¤– Feedback from AI**\".\n\n<details>\n\n<summary>Click to expand if you want to review the video that demonstrates how to use the AI feedback tool.</summary>\n\n{{< video https://www.youtube.com/embed/EyT6QQN1ouQ?si=DsG-laE30BykMJby title=\"aifeedr\">}}\n\n</details>\n\nEven numbered questions are graded and you will receive feedback from the course instructional team within a week.\nThese questions are marked with \"**ğŸ§‘ğŸ½â€ğŸ« Feedback from Humans**\".\n\nYou will complete all questions in the file called `hw-6.qmd`.\n\nBy now you should be familiar with how to get started with a homework assignment by cloning the GitHub repo for the assignment.\n\n<details>\n\n<summary>Click to expand if you need a refresher on how to get started with a homework assignment.</summary>\n\n-   Go to <https://cmgr.oit.duke.edu/containers> and login with your Duke NetID and Password.\n-   Click `STA199` under My reservations to log into your container. You should now see the RStudio environment.\n-   Go to the course organization at [github.com/sta199-f25](https://github.com/sta199-f25) organization on GitHub. Click on the repo with the prefix **hw-6**. It contains the starter documents you need to complete the homework.\n-   Click on the green **CODE** button, select **Use SSH**. Click on the clipboard icon to copy the repo URL.\n-   In RStudio, go to *File* â› *New Project* â›*Version Control* â› *Git*.\n-   Copy and paste the URL of your assignment repo into the dialog box *Repository URL*. Again, please make sure to have *SSH* highlighted under *Clone* when you copy the address.\n-   Click *Create Project*, and the files from your GitHub repo will be displayed in the *Files* pane in RStudio.\n\n</details>\n\nBy now you should also be familiar with guidelines for formatting your code and plots as well as your Git and Gradescope workflow.\n\n<details>\n\n<summary>Click to expand if you need a refresher on assignment guidelines.</summary>\n\n### Code\n\nCode should follow the [tidyverse style](https://style.tidyverse.org/).\nParticularly,\n\n-   there should be spaces before and line breaks after each `+` when building a `ggplot`,\n-   there should also be spaces before and line breaks after each `|>` in a data transformation pipeline,\n-   code should be properly indented,\n-   there should be spaces around `=` signs and spaces after commas.\n\nAdditionally, all code should be visible in the PDF output, i.e., should not run off the page on the PDF.\nLong lines that run off the page should be split across multiple lines with line breaks.\n\n### Plots\n\n-   Plots should have an informative title and, if needed, also a subtitle.\n-   Axes and legends should be labeled with both the variable name and its units (if applicable).\n-   Careful consideration should be given to aesthetic choices.\n\n### Workflow\n\nContinuing to develop a sound workflow for reproducible data analysis is important as you complete the lab and other assignments in this course.\n\n-   You should have at least 3 commits with meaningful commit messages by the end of the assignment.\n-   Final versions of both your `.qmd` file and the rendered PDF should be pushed to GitHub.\n\n\n</details>\n\n::: {.callout-note title=\"ğŸ› Catch the AI making a mistake?\" icon=\"false\"}\nSubmit a bug report with evidence of the mistake as well as your rationale for why it is a mistake to earn the opportunity for **extra credit**.\n\nYour bug report must include screenshots of the relevant parts of your Quarto document as well as the \"incorrect\" feedback you received.\nYour bug report should be printed and turned in to Dr. Ã‡etinkaya-Rundel in person by 11:45 am on the Tuesday following the assignment due date.\nSince we don't have class on Tuesday, December 9, these are due in my office (Old Chem 211C).\nElectronic submissions will not be accepted.\nYour bug report, including screenshots, should fit on no more than two pages.\n\nIf your bug report is confirmed (i.e., I agree that AI indeed made a mistake), you will receive 1 extra point that will be added to your total points for the assignment.\n:::\n\n## Packages\n\nIn this assignment you will work with the following packages:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(knitr)\n```\n:::\n\n\n# Questions\n\n::: render-commit-push\nDo not forget to render, commit, and push regularly, after each substantial change to your document (e.g., after answering each question).\nUse succinct and informative commit messages.\nMake sure to commit and push all changed files so that your Git pane is empty afterward.\n:::\n\n## Part 1: Lemurs\n\nQuestions 1 and 2 question use the `lemurs` data from Homework 5.\nYou can refer to the background information provided in that assignment for context, and load the data from `lemurs.csv` in your data folder.\n\n### Question 1 ğŸ¤–\n\n**ğŸ¤– Feedback from AI:** The goal of this question is to answer the following research question:\n\n> Do female lemurs differ in weight from male lemurs, on average?\n\nMore specifically, we want to answer whether the data provide convincing evidence of a discernible difference between the average weights of female and male lemurs.\n\na.  Conduct a hypothesis test to answer this question at 5% discernability level.\n    Clearly state your hypotheses in the context of the data and the research question, simulate a randomization distribution, find the p-value, and make a decision on your hypotheses based on this p-value.\n    Provide a one-sentence conclusion for your hypothesis test in the context of the data and the research question.\n    Donâ€™t forget to set a seed and use 1,000 resamples (`reps = 1000`) when simulating your randomization distribution.\n\nb.  Based on your answer to Part (a), would you expect a 95% confidence interval for the difference in means of female and male lemurs to include 0?\n    Explain your reasoning.\n\nc.  Construct and interpret a 95% bootstrap confidence interval for the difference in means of female and male lemurs.\n    Does it include 0?\n    Does this align with your answer to Part (b)?\n    Donâ€™t forget to set a seed and use 1,000 resamples (`reps = 1000`) when simulating your bootstrap distribution.\n\n### Question 2 ğŸ§‘ğŸ½â€ğŸ«\n\n**ğŸ§‘ğŸ½â€ğŸ« Feedback from Humans:** The goal of this question is to answer the following research question:\n\n> Does the median weight of female lemurs differ from that of male lemurs?\n\nMore specifically, we want to answer whether the data provide convincing evidence of a discernible difference between the median weights of female and male lemurs.\n\na.  Conduct a hypothesis test to answer this question at 5% discernability level.\n    Clearly state your hypotheses in the context of the data and the research question, simulate a randomization distribution, find the p-value, and make a decision on your hypotheses based on this p-value.\n    Provide a one-sentence conclusion for your hypothesis test in the context of the data and the research question.\n    Donâ€™t forget to set a seed and use 1,000 resamples (`reps = 1000`) when simulating your randomization distribution.\n\nb.  Based on your answer to Part (a), would you expect a 95% confidence interval for the difference in medians of female and male lemurs to include 0?\n    Explain your reasoning.\n\nc.  Construct and interpret a 95% bootstrap confidence interval for the difference in medians of female and male lemurs.\n    Does it include 0?\n    Does this align with your answer to Part (b)?\n    Donâ€™t forget to set a seed and use 1,000 resamples (`reps = 1000`) when simulating your bootstrap distribution.\n\n## Part 2: Babies\n\nEvery year, the US releases to the public a large dataset containing information on births recorded in the country.\nThis dataset has been of interest to medical researchers who are studying the relation between habits and practices of expectant mothers and the birth of their children.[^1]\nThis is a random sample of 1,000 cases from the dataset released in 2014.\n\n[^1]: United States Department of Health and Human Services.\n    Centers for Disease Control and Prevention.\n    National Center for Health Statistics.\n    Natality Detail File, 2014 United States.\n    Inter-university Consortium for Political and Social Research, 2016-10-07.\n    doi:10.3886/ICPSR36461.v1.\n\nThe data are available your `data` folder in `births14.csv`.\nQuestions 3-10 use these data.\n\nThe variables in the data are as follows:\n\n-   `fage`: Father's age in years.\n-   `mage`: Mother's age in years.\n-   `mature`: Maturity status of mother.\n-   `weeks`: Length of pregnancy in weeks.\n-   `premie`: Whether the birth was classified as premature (premie) or full-term.\n-   `visits`: Number of hospital visits during pregnancy.\n-   `gained`: Weight gained by mother during pregnancy in pounds.\n-   `weight`: Weight of the baby at birth in pounds.\n-   `lowbirthweight`: Whether baby was classified as low birthweight (low) or not (â not lowâ ).\n-   `sex`: Sex of the baby, female or male.\n-   `habit`: Status of the mother as a nonsmoker or a smoker.\n-   `marital`: Whether mother is married or â not marriedâ  at birth.\n-   `whitemom`: Whether mom is white or â not whiteâ .\n\n### Question 3 ğŸ¤–\n\n**ğŸ¤– Feedback from AI:** In this question you start exploring the data to make decisions about how to prepare it for the analysis.\n\nFirst, read the data in and store it as `births14_raw`.\n\nThen, in a single pipeline, filter for any rows of the `births14` data frame where one or more of the following variables has an `NA` value: `mage`, `weight`, `habit`, `mature`, `lowbirthweight`, then select only these five variables to display.\n\n### Question 4 ğŸ§‘ğŸ½â€ğŸ«\n\n**ğŸ§‘ğŸ½â€ğŸ« Feedback from Humans:** In this question you start your data prep.\n\nIn a single pipeline, remove any rows of the `births14_raw` data frame with `NA` values among those you identified as having `NA` values in the previous question, and save the results as `births14`.\n\nThen, find and state the numbers of rows of columns of `births14`.\n\n::: callout-tip\nYou should end up with 981 rows.\nIf you do not, revisit your earlier work to make sure you have removed all rows with `NA` values in any of the specified columns.\n:::\n\n### Question 5 ğŸ¤–\n\n**ğŸ¤– Feedback from AI:** This question walks you through an exploration of a threshold used when the data set was put together.\n\nOne of the variables in the data is `mature`, indicating whether the mom is considered \"mature\" or \"younger\".\nThis categorization is based on a medical threshold used for pregnancies.\nUsing the data alone (not medical knowledge or external resources), determine the threshold age used to categorize moms as \"mature\" vs. \"younger\".\nDescribe your process, include any evidence (summary statistics and/or visualization), and clearly state the threshold you determined.\n\n### Question 6 ğŸ§‘ğŸ½â€ğŸ«\n\n**ğŸ§‘ğŸ½â€ğŸ« Feedback from Humans:** This question walks you through an exploration of another threshold used when the data set was put together.\n\nAnother variable in the data is `lowbirthweight`, indicating whether the baby's weight is considered \"low\" or \"not low\" at birth.\nThis categorization is based on a medical threshold used for births.\nUsing the data alone (not medical knowledge or external resources), determine the threshold weight used to categorize baby weights as \"low\" vs. \"now low\".\nDescribe your process, include any evidence (summary statistics and/or visualization), and clearly state the threshold you determined.\n\n### Question 7 ğŸ¤–\n\n**ğŸ¤– Feedback from AI:** In this question you finish up your data prep for the remaining steps of the analysis.\n\nIn a single pipeline, recode the variables `mature`, `habit`, and `lowbirthweight` in the `births14` data frame as follows:\n\n-   `mature` : \"mature mom\" â†’ \"35 and over\", \"younger mom\" â†’ \"34 and under\"\n-   `habit` : \"smoker\" â†’ \"Smoker\", \"nonsmoker\" â†’ \"Non-smoker\"\n-   `lowbirthweight` : \"low\" â†’ \"Low\", \"not low\" â†’ \"Not low\"\n\nIn that same pipeline, relocate these three variables to be the first three columns of the data frame.\n\nSave the result back to `births14` and display the first 10 rows (and however many columns fit across the page) of `births14`.\n\n### Question 8 ğŸ§‘ğŸ½â€ğŸ«\n\n**ğŸ§‘ğŸ½â€ğŸ« Feedback from Humans:** This question explores low birth weight prevalence.\n\nYour fellow researchers are interested in exploring how the baby weight at birth varies by characteristics of the mother.\n\na.  One researcher in your group made a summary table that shows the number of low birth weight babies for every possible combination for mother's `mature` and `habit` status. The table is show below. Recreate this table in a single pipeline. Make sure to get the caption, table number, and column names exactly right.\n\n    ![](images/hw-6/table-to-recreate.png){width=\"80%\"}\n\nb.  Another researcher in the group made the barplot below that shows the distribution of low birth weight babies condtional on mother's age and smoking status. Recreate this visualization, paying attention to all details, including figure width and aspect ratio (which you don't need to get exactly right, but you should strive to get close).\n\n    ![](images/hw-6/plot-to-recreate.png){width=\"80%\"}\n\nc.  Refer back to the visualization you recreated in Part (b), in light of the numbers in the table you recreated in Part (a).\n    What is misleading about the visualization?\n    Explain in 1-2 sentences.\n\nd.  Update the visualization to correct the issue you identified in Part (c).\n    Briefly explain what you did to fix the issue and what the new visualization shows.\n    Note that there are a few ways you can address the issue, but you should select the best option.\n\n### Question 9 ğŸ¤–\n\n**ğŸ¤– Feedback from AI:** In this question you will conduct inference for a slope in a model with a single predictor.\n\na.  Fit a model for predicting baby weight (`weight`) from mother's age category (`mature`).\n    Display the tidy model output.\n\nb.  Construct a 95% confidence interval for the slope the model from part (a), using bootstrapping with 1,000 resamples and the percentile method.\n    Dislay the bounds of the interval and interpret it in the context of the data and the research question.\n\nc.  Visualize the bootstrap distribution you used to construct the confidence interval.\n    Comment on its shape and center.\n\nd.  Based on your interval from Part (b), do these data provide convincing evidence of a discernible difference between the average weights of babies born to mothers who are 35 years and older vs. those born to mothers who are 34 years and younger?\n    Explain your reasoning.\n    Note: You do not need to a hypothesis test to answer this question, justify your answer with your confidence interval only.\n\n### Question 10 ğŸ§‘ğŸ½â€ğŸ«\n\n**ğŸ§‘ğŸ½â€ğŸ« Feedback from Humans:** In this question you will conduct inference for slopes in a model with a two predictors.\n\na.  Fit a model for predicting baby weight (`weight`) from mother's age (`mage`) and smoking status (`habit`).\n    Display the tidy model output.\n\nb.  Construct 95% confidence intervals for the slopes the model from part (a), using bootstrapping with 1,000 resamples and the percentile method.\n    Dislay the bounds of the intervals and interpret them in the context of the data and the research question.\n\nc.  Visualize the bootstrap distributions you used to construct the confidence intervals.\n    Comment on their shapes and centers.\n\n# Wrap-up\n\n::: callout-warning\nBefore you wrap up the assignment, make sure that you render, commit, and push one final time so that the final versions of both your `.qmd` file and the rendered PDF are pushed to GitHub and your Git pane is empty.\nWe will be checking these to make sure you have been practicing how to commit and push changes.\n:::\n\n## Submission\n\nSubmit your PDF document to Gradescope by the deadline to be considered \"on time\":\n\n-   Go to <http://www.gradescope.com> and click *Log in* in the top right corner.\n-   Click *School Credentials* $\\rightarrow$ *Duke NetID* and log in using your NetID credentials.\n-   Click on your *STA 199* course.\n-   Click on the assignment, and you'll be prompted to submit it.\n-   Mark all the pages associated with question. All the pages of your homework should be associated with at least one question (i.e., should be \"checked\").\n\n::: callout-important\n## Checklist\n\nMake sure you have:\n\n-   attempted all questions\n-   rendered your Quarto document\n-   committed and pushed everything to your GitHub repository such that the Git pane in RStudio is empty\n-   uploaded your PDF to Gradescope\n:::\n\n\n## Grading and feedback\n\n-   Odd numbered questions marked with \"**ğŸ¤– Feedback from AI**\" are not graded, but you should complete them to both get practice and to be able to do the subsequent question.\n\n-   Even numbered questions marked with \"**ğŸ§‘ğŸ½â€ğŸ« Feedback from Humans**\" are graded, and you will receive feedback on Gradescope from the course instructional team within a week.\n\n    -   Questions will be graded for accuracy and completeness.\n    -   Partial credit will be given where appropriate.\n    -   There are also workflow points for:\n        -   committing at least three times as you work through your homework,\n        -   having your final version of `.qmd` and `.pdf` files in your GitHub repository, and\n        -   overall organization.\n",
    "supporting": [
      "hw-6_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}